<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>In-class assignments &mdash; bioinformatics@nau</title>
    
    <link rel="stylesheet" href="../../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <link rel="top" title="bioinformatics@nau" href="../../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../../index.html">
          <span>bioinformatics@nau</span></a></h1>
        <h2 class="heading"><span>In-class assignments</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="in-class-assignments">
<h1>In-class assignments<a class="headerlink" href="#in-class-assignments" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lecture-10">
<h2>Lecture 10<a class="headerlink" href="#lecture-10" title="Permalink to this headline">¶</a></h2>
<p>Working in a new IPython Notebook, use <a class="reference external" href="http://www.ncbi.nlm.nih.gov/books/NBK25500/">NCBI EUtils</a>, <a class="reference external" href="http://docs.python.org/2/library/urllib2.html">urllib2</a>, <a class="reference external" href="http://docs.python.org/2/library/xml.etree.elementtree.html">xml.etree.ElementTree</a> and <a class="reference external" href="http://matplotlib.org/">matplotlib</a> to do the following:</p>
<ol class="arabic simple">
<li>Retrieve the number of articles in <em>Nature</em> on lung cancer in 2000.</li>
<li>Modify the code used to achieve the above to create a loop, and get the list of counts of articles in <em>Nature</em> on lung cancer between 1990 and 2014. Print this to the terminal as tab-separated text.</li>
<li>Plot this to visualize the trend.</li>
<li>Generalize this, so a user can enter an arbitrary search term (so instead of <em>lung cancer</em>, they can enter another phrase).</li>
</ol>
</div>
<div class="section" id="lecture-9">
<h2>Lecture 9<a class="headerlink" href="#lecture-9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="function-definition-exercise">
<h3>Function definition exercise<a class="headerlink" href="#function-definition-exercise" title="Permalink to this headline">¶</a></h3>
<p>Run through Exercise 1 from <a class="reference external" href="http://nbviewer.ipython.org/github/gregcaporaso/An-Introduction-To-Applied-Bioinformatics/blob/master/programming-and-se/4-functions.ipynb">today&#8217;s notebook</a>.</p>
</div>
<div class="section" id="for-more-practice-adapt-your-sequence-processor-script-to-use-functions">
<h3>For more practice: adapt your &#8220;sequence processor&#8221; script to use functions<a class="headerlink" href="#for-more-practice-adapt-your-sequence-processor-script-to-use-functions" title="Permalink to this headline">¶</a></h3>
<p>Define a couple of functions in your sequence processor script. One of these could be called <tt class="docutils literal"><span class="pre">compute_gc_content</span></tt>, and another could be called <tt class="docutils literal"><span class="pre">compute_length</span></tt>. Each of these should take a single sequence as input, and return the GC content or the sequence length, respectively, as output. Hook these functions up so they are called when the user defines what function they want to run.</p>
</div>
<div class="section" id="file-i-o-adapt-your-sequence-processor-script-to-read-and-write-files">
<h3>File I/O: adapt your &#8220;sequence processor&#8221; script to read and write files<a class="headerlink" href="#file-i-o-adapt-your-sequence-processor-script-to-read-and-write-files" title="Permalink to this headline">¶</a></h3>
<p>Instead of passing a sequence on the command line, pass a file with one sequence per line. Have your script perform the requested function on all sequences in the file and print the results to the terminal. Once that&#8217;s working, have your script take an output file name as another command line parameter. Instead of printing output to the screen, have your command write the result for each sequence to the specified file.</p>
<p>Paste the following sequences into a new text file to pass as input to your script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ACCGGT</span>
<span class="n">GTTGACCAGGTTGACACCGTTGACACA</span>
<span class="n">GGTCCAGGTTGACCA</span>
<span class="n">ACCGATTTTAAA</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lecture-8">
<h2>Lecture 8<a class="headerlink" href="#lecture-8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="continue-working-on-your-sequence-processor-script">
<h3>Continue working on your &#8220;sequence processor&#8221; script<a class="headerlink" href="#continue-working-on-your-sequence-processor-script" title="Permalink to this headline">¶</a></h3>
<p>See description under Lecture 7.</p>
</div>
</div>
<div class="section" id="lecture-7">
<h2>Lecture 7<a class="headerlink" href="#lecture-7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="write-a-python-hello-world-script">
<h3>Write a python <cite>Hello World</cite> script<a class="headerlink" href="#write-a-python-hello-world-script" title="Permalink to this headline">¶</a></h3>
<p>In your Unix/Linux/OS X environment of choice (koding.com, QIIME VB, laptop), write a program called <tt class="docutils literal"><span class="pre">hello_world.py</span></tt> that when run prints the text <tt class="docutils literal"><span class="pre">Hello</span> <span class="pre">World!</span></tt> to the terminal. You should be able to call this script from anywhere like:</p>
<blockquote>
<div>hello_world.py</div></blockquote>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Don&#8217;t forget the <em>shebang</em> line. For python scripts, this should look like <tt class="docutils literal"><span class="pre">#!/usr/bin/env</span> <span class="pre">python</span></tt>.</p>
</div>
</div>
<div class="section" id="create-a-sequence-processor-script">
<h3>Create a &#8220;sequence processor&#8221; script<a class="headerlink" href="#create-a-sequence-processor-script" title="Permalink to this headline">¶</a></h3>
<p>Define a new script called <tt class="docutils literal"><span class="pre">sequence_processor.py</span></tt>. This script should take two arguments on the command line, a function and a sequence, and output the results of applying the specified function to the sequence. Be creative in what functions you support (but some ideas are <tt class="docutils literal"><span class="pre">compute-length</span></tt> and <tt class="docutils literal"><span class="pre">compute-gc-content</span></tt>). Add a <tt class="docutils literal"><span class="pre">help</span></tt> function which prints out some information on how to use your script and what functions it supports.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Use <tt class="docutils literal"><span class="pre">argv</span></tt> to load command line arguments. To do this, you&#8217;ll need to include the line <tt class="docutils literal"><span class="pre">from</span> <span class="pre">sys</span> <span class="pre">import</span> <span class="pre">argv</span></tt> toward the top of your script.</p>
</div>
<p>You can use the following as a starting point for this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>

<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
   <span class="k">print</span> <span class="s">&quot;The name of the script is: &quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
   <span class="k">print</span> <span class="s">&quot;The first argument is: &quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
   <span class="k">print</span> <span class="s">&quot;The second argument is: &quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span> <span class="s">&quot;ERROR: sequence_processor.py must be called with exactly two arguments!&quot;</span>
</pre></div>
</div>
<p>My <tt class="docutils literal"><span class="pre">sequence-processor.py</span></tt> script looks like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span>

<span class="n">script_name</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sequence</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">function</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;The name of the script is: &quot;</span><span class="p">,</span> <span class="n">script_name</span>
    <span class="k">print</span> <span class="s">&quot;The sequence is: &quot;</span><span class="p">,</span> <span class="n">sequence</span>
    <span class="k">print</span> <span class="s">&quot;The function to perform is: &quot;</span><span class="p">,</span> <span class="n">function</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;ERROR: sequence_processor.py must be called with exactly two arguments!&quot;</span>

<span class="k">if</span> <span class="n">function</span> <span class="o">==</span> <span class="s">&quot;length&quot;</span><span class="p">:</span>
  <span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">sequence</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">function</span> <span class="o">==</span> <span class="s">&quot;gc-content&quot;</span><span class="p">:</span>
  <span class="k">print</span> <span class="p">(</span><span class="n">sequence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;G&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">sequence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;C&#39;</span><span class="p">))</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">sequence</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">function</span> <span class="o">==</span> <span class="s">&quot;validate&quot;</span><span class="p">:</span>
  <span class="n">total_acgt_count</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;G&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">sequence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;C&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">sequence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">sequence</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;T&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">total_acgt_count</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">sequence</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;Sequence is valid (it only contains As, Cs, Gs and Ts).&quot;</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Sequence is invalid (it contains characters other than As, Cs, Gs, and Ts).&quot;</span>
<span class="k">else</span><span class="p">:</span>
  <span class="k">print</span> <span class="s">&quot;ERROR: Unknown function!&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lecture-6">
<h2>Lecture 6<a class="headerlink" href="#lecture-6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="working-with-the-python-interpreter">
<h3>Working with the python interpreter<a class="headerlink" href="#working-with-the-python-interpreter" title="Permalink to this headline">¶</a></h3>
<p>Run the command <tt class="docutils literal"><span class="pre">python</span></tt> to open the python interpreter.</p>
<p>Define a variable <tt class="docutils literal"><span class="pre">a</span></tt> as some integer, and add a number to it.</p>
<p>Define a variable <tt class="docutils literal"><span class="pre">b</span></tt> as some integer, and add it to <tt class="docutils literal"><span class="pre">a</span></tt>.</p>
<p>Multiply and divide <tt class="docutils literal"><span class="pre">a</span></tt> and <tt class="docutils literal"><span class="pre">b</span></tt>. When do you and do you not get the expected results?</p>
<p>Set a variable <tt class="docutils literal"><span class="pre">c</span></tt> as the result of some operation between <tt class="docutils literal"><span class="pre">a</span></tt> and <tt class="docutils literal"><span class="pre">b</span></tt>.</p>
<p>Define a variable <tt class="docutils literal"><span class="pre">d</span></tt> as a real (i.e., floating point) number. Perform the same operations as above, using <tt class="docutils literal"><span class="pre">d</span></tt> in place of <tt class="docutils literal"><span class="pre">a</span></tt> or <tt class="docutils literal"><span class="pre">b</span></tt>. What is the same and what is different about the results.</p>
<p>Print a string to the screen.</p>
</div>
</div>
<div class="section" id="lecture-5">
<h2>Lecture 5<a class="headerlink" href="#lecture-5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="make-your-script-developed-in-class-last-time-executable-from-anywhere-on-the-system">
<h3>Make your script developed in class last time executable from anywhere on the system.<a class="headerlink" href="#make-your-script-developed-in-class-last-time-executable-from-anywhere-on-the-system" title="Permalink to this headline">¶</a></h3>
<p>This will involve changing permissions using chmod, setting your <tt class="docutils literal"><span class="pre">PATH</span></tt> environment variable with <tt class="docutils literal"><span class="pre">export</span></tt>, and adding that export command to your <tt class="docutils literal"><span class="pre">$HOME/.bashrc</span></tt> script.</p>
<p>You can do this as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir $HOME/scripts
echo &quot;&quot; &gt;&gt; $HOME/.bashrc
echo &quot;export PATH=$HOME/scripts:$PATH&quot; &gt;&gt; $HOME/.bashrc
</pre></div>
</div>
<p>You&#8217;ll then need to open a new terminal window so <tt class="docutils literal"><span class="pre">$HOME/.bashrc</span></tt> is executed (and your <tt class="docutils literal"><span class="pre">$PATH</span></tt> variable gets set). You can then copy your script into <tt class="docutils literal"><span class="pre">$HOME/scripts</span></tt>, and you should be able to run it from anywhere on the system.</p>
</div>
<div class="section" id="configure-ftp-in-your-coding-account">
<h3>Configure ftp in your coding account<a class="headerlink" href="#configure-ftp-in-your-coding-account" title="Permalink to this headline">¶</a></h3>
<p>See the instructions <a class="reference external" href="http://learn.koding.com/setting-up-ftp-on-koding/">here</a>.</p>
</div>
</div>
<div class="section" id="lecture-4">
<h2>Lecture 4<a class="headerlink" href="#lecture-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-grep-and-navigating-directories">
<h3>Using <tt class="docutils literal"><span class="pre">grep</span></tt> and navigating directories<a class="headerlink" href="#using-grep-and-navigating-directories" title="Permalink to this headline">¶</a></h3>
<p>Download the Greengenes 13_8 OTUs subset from <a class="reference external" href="https://dl.dropboxusercontent.com/s/a0coxo8zkw6qz63/gg_13_8_otus_sub.tgz">here</a> using curl. Untar/zip the file (hint: use <tt class="docutils literal"><span class="pre">tar</span> <span class="pre">-xzvf</span></tt>), and change to the resulting directory. Under this directory, there is another directory called <tt class="docutils literal"><span class="pre">rep_set</span></tt> which contains several fasta files. How do you get <tt class="docutils literal"><span class="pre">grep</span></tt> to print the number of lines in a file rather than the lines which match a pattern? How many sequence records are in the <tt class="docutils literal"><span class="pre">97</span></tt>, <tt class="docutils literal"><span class="pre">88</span></tt>, and <tt class="docutils literal"><span class="pre">73</span></tt> variants of those files?</p>
</div>
<div class="section" id="writing-a-first-shell-script">
<h3>Writing a first shell script<a class="headerlink" href="#writing-a-first-shell-script" title="Permalink to this headline">¶</a></h3>
<p>Create a new file called <tt class="docutils literal"><span class="pre">my_script.sh</span></tt> with <tt class="docutils literal"><span class="pre">nano</span></tt> and enter the following text:</p>
<div class="highlight-python"><div class="highlight"><pre>#!/bin/bash
echo &quot;Below are contents of the directory:&quot;
pwd
ls -al
echo &quot;The time is currently:&quot;
date
</pre></div>
</div>
<p>Now change the permissions on this file to give it execute permissions:</p>
<div class="highlight-python"><div class="highlight"><pre>chmod u+x my_script.sh
</pre></div>
</div>
<p>Then execute this by running:</p>
<div class="highlight-python"><div class="highlight"><pre>./my_script.sh
</pre></div>
</div>
<p>This exercise is derived from <em>Practical Computing for Biologists</em></p>
</div>
<div class="section" id="write-a-more-useful-shell-script">
<h3>Write a more useful shell script<a class="headerlink" href="#write-a-more-useful-shell-script" title="Permalink to this headline">¶</a></h3>
<p>Write a new shell script that tells you the number of records in a fasta file, if you provide a path to a fasta file on the command line. Hint: If you pass argument(s) to your script, you can access those within the script as <tt class="docutils literal"><span class="pre">$1</span></tt>, <tt class="docutils literal"><span class="pre">$2</span></tt>, ....</p>
</div>
</div>
<div class="section" id="lecture-3">
<h2>Lecture 3<a class="headerlink" href="#lecture-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-koding-account">
<h3>Create a koding account<a class="headerlink" href="#create-a-koding-account" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want e-mail updates on NAU&#8217;s Linux cluster (and other local &#8220;big data&#8221; topics), see <a class="reference external" href="http://caporasolab.us/teaching/#keeping-up-to-date-on-bioinformatics-at-nau">here</a>.</p>
</div>
<p>Go <a class="reference external" href="https://koding.com/R/gregcaporaso">here</a> to create a new account at koding.com. Boot up a virtual machine, and open the terminal.</p>
<p>The remaining exercises will be performed in your koding.com virtual machine.</p>
</div>
<div class="section" id="using-curl-and-grep">
<h3>Using <tt class="docutils literal"><span class="pre">curl</span></tt> and <tt class="docutils literal"><span class="pre">grep</span></tt><a class="headerlink" href="#using-curl-and-grep" title="Permalink to this headline">¶</a></h3>
<p>Download the EMP minimal mapping file, directly into your AWS instance, from <a class="reference external" href="https://dl.dropboxusercontent.com/s/f7ysoltbn0zpah7/emp_11sept2012_minimal_mapping_file.txt.gz">here</a> using <tt class="docutils literal"><span class="pre">curl</span></tt>. You&#8217;ll need to unzip that file with <tt class="docutils literal"><span class="pre">gunzip</span></tt> to get started. You can read about the <a class="reference external" href="http://qiime.org/documentation/file_formats.html#metadata-mapping-files">file format here</a>.</p>
<p>How do you perform a search with <tt class="docutils literal"><span class="pre">grep</span></tt>? How do you invert a search with <tt class="docutils literal"><span class="pre">grep</span></tt>?  How can you print the lines that contain information on human-associated samples? How can you print the lines that contain information on non-human-associated samples?</p>
</div>
</div>
<div class="section" id="lecture-2">
<h2>Lecture 2<a class="headerlink" href="#lecture-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="working-with-regular-expressions">
<h3>Working with regular expressions<a class="headerlink" href="#working-with-regular-expressions" title="Permalink to this headline">¶</a></h3>
<p>Download <a class="reference external" href="https://www.dropbox.com/s/m21r7l91al1k0nt/Lecture2_support.zip">this file</a> and unzip it. Work through the examples presented in the lecture slides.</p>
</div>
</div>
<div class="section" id="lecture-1">
<h2>Lecture 1<a class="headerlink" href="#lecture-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="studying-genomes">
<h3>Studying genomes<a class="headerlink" href="#studying-genomes" title="Permalink to this headline">¶</a></h3>
<p>Download a bacterial or archaeal genome (I suggest starting at <a class="reference external" href="http://img.jgi.doe.gov/w/">IMG</a>, but whatever source you&#8217;re comfortable with is fine), find a gene in that genome, and determine the function of that gene.</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, J Gregory Caporaso.
      Last updated on Apr 30, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>
